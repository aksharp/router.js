<!DOCTYPE html>
<html>
<head>
    <title>router.js example</title>
    <script type="text/javascript" src="lib/jquery.min.js"></script>
    <script type="text/javascript" src="router.js"></script>
</head>
<body>

<!-- placeholder -->
<div id="result"></div>

<script type="text/javascript">

    var $result = $('#result');
    // helper write function
    var $write = function(text){
        $result.append(text + '<br />');
    }

    // single route registration
    route.register(new Route(
            '/writer/:name',    //dynamic route variables
            function($route){
                if ($route.model.name === 'agatha'){    // model has route variables attached to it by convention
                    $write('Agatha Christie');
                }
                if ($route.model.name === 'london'){
                    $write('Jack London');
                }
                if ($route.model.name === 'dumas'){
                    $write('Alexander Dumas');
                }
            }
    ));

    // multiple routes registration
    route.registerAll([
        new Route('/newyork', function(){
            var deferred = $.Deferred();    // example using jquery promises
            $write('New York');
            setTimeout(function(){
                $write('is where statue of liberty is located');  // route does something async
                deferred.resolve();
            }, 1000);
            return deferred.promise();  // returns a promise and can be chained (see route.to below)
        }),
        new Route('/california', function(){
            $write('California is where the golden bridge is located');
        })
    ]);

    // routing - can be chained using jquery promises above
    route.to('/newyork').then(function(){
        route.to('/california');
    });

    // now append this to url in your browser
    // #/writer/agatha
    // and hit return
    //
    // hope you like it, enjoy!

</script>

</body>
</html>